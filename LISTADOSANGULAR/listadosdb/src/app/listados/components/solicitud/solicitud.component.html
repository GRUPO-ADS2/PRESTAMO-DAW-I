<div class="container-fluid p-4 g-8">
    <div class="content ">
        <div class="form-row ">
            <div class="form-group col-md-6">
                <label>Categoría</label>
                <select class="form-control" [(ngModel)]="categoria" (change)="filtrarMateriales()">
                    <option value="" selected>TODOS</option>
                    <option value="libros">Libros</option>
                    <option value="revistas">revistas</option>
                    <option value="instrumentos">Instrumentos</option>
                    <option value="otros">otros</option>
                </select>
            </div>
            <div class="form-group col-md-6">
                <label for="buscar">Buscar</label>
                <div class="input-group">
                    <input type="text" [(ngModel)]="searchMaterial" class="form-control" placeholder="Buscar..." (input)="filtrarMateriales()">                   
                    <div class="input-group-append mx-4">
                        <button class="btn btn-warning" (click)="create()"  [disabled]="materialsSelected.length===0? true: false">Soliciftar</button>
                    </div>
                </div>
            </div>
        </div>
        <table class="table table-bordered " infiniteScroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="1000" (scrolled)="scrolledInfinite()">
            <thead>
                <tr>
                    <th>Código</th>
                    <th>Nombre</th>
                    <th>Descripción</th>
                    <th>Tipo</th>
                    <th>Stock</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                @for (material of materialesFiltrados; track $index)
                {
                    <tr    class=" {{materialIsSelected(material)? 'bg-success': ''}}">
                        <td>{{material.codMaterial}}</td>
                        <td>{{material.nombre}}</td>
                        <td>{{material.descripcion}}</td>
                        <td>{{material.tipo}}</td>
                        <td>{{material.stock}}</td>
                        <td>
                            <button class="btn btn-primary agregar-material"  (click)="seleccionarMaterial(material)">
                                {{materialIsSelected(material)? 'Eliminar': 'Agregar'}}</button>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>